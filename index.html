<!DOCTYPE html>
<html>
<body>

<h1>My First Heading</h1>
<p>read file</p>
<input type="button" value="Read" onclick="OnReadClick()"/>
<div><textarea id="readarea"></textarea></div>
<p>write file</p>
  <div><input type="button" value="Write" onclick="OnWriteClick()"/></div>
  <div>summary: <input type="text" id="summary"></div>
  <div>location: <input type="text" id="location"></div>
  <div>description: <input type="text" id="description"></div>
  <div>start: <input type="datetime-local" id="start"></div>
  <div>end: <input type="datetime-local" id="end"></div>
</body>
</html>
<script>

function OnReadClick() {
    fetch('http://localhost:3000/read')
        .then(response => response.text())
        .then(text => {
        console.log(text);
        document.getElementById("readarea").value = text;
    });
}

function OnWriteClick() {
    const params = { summary: document.getElementById("summary").value, 
                     location: document.getElementById("location").value, 
                     description: document.getElementById("description").value, 
                     start: document.getElementById("start").value, 
                     end: document.getElementById("end").value };
    const qs = new URLSearchParams(params);
    fetch(`http://localhost:3000/write?${qs}`)
    .then(response => response.text())
    .then(text => {
        console.log(text);
    });
}
</script>
<style>
textarea {
  width: 700px;
  height: 100px
}
</style>