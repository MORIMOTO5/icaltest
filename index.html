<!DOCTYPE html>
<html>
<body>

<h1>My First Heading</h1>
<h2>read file</h2>
<input type="button" value="Read" onclick="OnReadClick()"/>
<div><textarea id="readarea"></textarea></div>
<h2>write file</h2>
  <div><input type="button" value="Write" onclick="OnWriteClick()"/></div>
  <div>summary: <input type="text" id="summary"></div>
  <div>location: <input type="text" id="location"></div>
  <div>description: <input type="text" id="description"></div>
  <div>start: <input type="datetime-local" id="start"></div>
  <div>end: <input type="datetime-local" id="end"></div>
<h2>time line</h2>
<div style="width:75%;">
    <svg id="gantt"></svg>
</div>	
</body>
</html>
<script>

function OnReadClick() {
    fetch('http://localhost:3000/read')
        .then(response => response.text())
        .then(text => {
        console.log(text);
        document.getElementById("readarea").value = text;
    });
}

function OnWriteClick() {
    const params = { summary: document.getElementById("summary").value, 
                     location: document.getElementById("location").value, 
                     description: document.getElementById("description").value, 
                     start: document.getElementById("start").value, 
                     end: document.getElementById("end").value };
    const qs = new URLSearchParams(params);
    fetch(`http://localhost:3000/write?${qs}`)
    .then(response => response.text())
    .then(text => {
        console.log(text);
    });
}
</script>
<script src="https://cdnjs.cloudflare.com/ajax/libs/frappe-gantt/0.3.0/frappe-gantt.min.js"></script>
<link rel="stylesheet" href="https://cdnjs.cloudflare.com/ajax/libs/frappe-gantt/0.3.0/frappe-gantt.min.css">
<script>
  var tasks = [
  {
    id: 'Task 1',
    name: 'Redesign website 1',
    start: '2019-11-09 11:00:00',
    end: '2019-11-09 12:00:00',
    progress: 100,
    dependencies: '',
    custom_class: 'bar-milestone' // optional
  },
  {
    id: 'Task 1',
    name: 'Redesign website 2',
    start: '2019-11-10 11:00:00',
    end: '2019-11-10 16:00:00',
    progress: 100,
    dependencies: '',
    custom_class: 'bar-milestone' // optional
  },
  ]

  var gantt = new Gantt("#gantt", tasks, {
    header_height: 50,
    column_width: 30,
    step: 24,
    view_modes: ['Quarter Day', 'Half Day', 'Day', 'Week', 'Month'],
    bar_height: 20,
    bar_corner_radius: 3,
    arrow_curve: 5,
    padding: 18,
    view_mode: 'Day',   
    date_format: 'YYYY-MM-DD hh:mm:ss',
    custom_popup_html: null
});
gantt.change_view_mode('Day')
</script>
<style>
textarea {
  width: 700px;
  height: 100px
}
</style>